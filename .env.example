# ============================================
# Lighthouse Dashboard - Environment Variables
# ============================================
#
# Copy this file to .env.local for local development.
# For Vercel deployment, add these variables in your project settings.
#
# Variables marked [REQUIRED] must be set for the app to start.
# Variables marked [OPTIONAL] enable additional features.


# ============================================
# TARGET SITE
# ============================================
# The website you want to monitor with Lighthouse scans.

# [REQUIRED] Full URL of your target site (with protocol)
TARGET_BASE_URL=https://example.com

# [OPTIONAL] Domain only - auto-extracted from TARGET_BASE_URL if not set
# TARGET_DOMAIN=example.com

# [OPTIONAL] Sitemap URL for URL extraction (defaults to TARGET_BASE_URL/sitemap.xml)
# SITEMAP_URL=https://example.com/sitemap.xml


# ============================================
# DASHBOARD IDENTITY
# ============================================

# [REQUIRED] URL where this dashboard is deployed
DASHBOARD_URL=https://lighthouse.example.com

# [OPTIONAL] Name shown in the dashboard UI (default: "Lighthouse Dashboard")
# APP_NAME=My Site Performance Dashboard

# [OPTIONAL] Description of your site for AI context
# This helps the AI generate more relevant insights and content suggestions.
# SITE_DESCRIPTION=a SaaS platform for project management


# ============================================
# BRANDING (all optional)
# ============================================
# Customize the dashboard appearance. All values have sensible defaults.

# Brand name shown in header and browser tab (default: "Lighthouse Dashboard")
# NEXT_PUBLIC_BRAND_NAME=My Performance Dashboard

# Path to logo, relative to public/ (default: /brand/logo.svg)
# NEXT_PUBLIC_BRAND_LOGO_PATH=/brand/logo.svg

# Path to favicon, relative to public/ (default: /brand/favicon.svg)
# NEXT_PUBLIC_BRAND_FAVICON_PATH=/brand/favicon.svg

# Brand colors (hex values)
# NEXT_PUBLIC_BRAND_PRIMARY=#0B3D91
# NEXT_PUBLIC_BRAND_ACCENT=#B45309
# NEXT_PUBLIC_BRAND_BACKGROUND=#FAF7F2
# NEXT_PUBLIC_BRAND_TEXT=#0B3D91


# ============================================
# AUTHENTICATION (NextAuth + Google OAuth)
# ============================================
# Google OAuth is used for authentication.
# Create credentials at: https://console.cloud.google.com/apis/credentials

# [REQUIRED] NextAuth URL (usually same as DASHBOARD_URL)
NEXTAUTH_URL=https://lighthouse.example.com

# [REQUIRED] Random secret for JWT signing
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-random-secret-here

# [REQUIRED] Google OAuth credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# [OPTIONAL] Restrict login to specific email domain
# Leave unset to allow any authenticated Google user
# ALLOWED_EMAIL_DOMAIN=yourcompany.com


# ============================================
# STORAGE (Vercel KV / Upstash Redis)
# ============================================
# Vercel KV provides Redis-compatible storage.
# Create a KV database in your Vercel project settings.
# These values are auto-populated when you link KV to your project.

# [REQUIRED] Vercel KV REST API credentials
KV_REST_API_URL=https://your-kv-url.upstash.io
KV_REST_API_TOKEN=your-kv-token

# [OPTIONAL] Additional KV credentials (auto-set by Vercel)
# KV_URL=redis://...
# KV_REST_API_READ_ONLY_TOKEN=...


# ============================================
# AI INSIGHTS (Anthropic Claude)
# ============================================
# Powers the AI-generated SEO insights and content suggestions.
# Get your API key at: https://console.anthropic.com/

# [OPTIONAL] Anthropic API key - required for AI insights feature
# ANTHROPIC_API_KEY=sk-ant-api03-...

# [OPTIONAL] Claude model to use (default: claude-3-5-haiku-20241022)
# AI_MODEL=claude-3-5-haiku-20241022


# ============================================
# COMPETITOR ANALYSIS (DataForSEO)
# ============================================
# Enables SERP tracking, keyword research, and competitor analysis.
# Sign up at: https://dataforseo.com/

# [OPTIONAL] DataForSEO credentials - required for competitor analysis
# DATAFORSEO_LOGIN=your-login
# DATAFORSEO_PASSWORD=your-password

# [OPTIONAL] DataForSEO location code for SERP queries (default: 2840 = USA)
# See: https://docs.dataforseo.com/v3/appendix/locations_and_languages/
# Common codes: 2840 (USA), 2826 (UK), 2124 (Canada), 2036 (Australia)
# DATAFORSEO_LOCATION_CODE=2840

# [OPTIONAL] DataForSEO language code (default: en = English)
# Common codes: en, es, de, fr, pt, it, nl, ja, zh
# DATAFORSEO_LANGUAGE_CODE=en


# ============================================
# GOOGLE ANALYTICS
# ============================================
# Integrates traffic and engagement metrics from GA4.
# Requires a Google Cloud service account with Analytics API access.

# [OPTIONAL] GA4 Property ID (format: properties/123456789)
# GOOGLE_ANALYTICS_PROPERTY_ID=properties/123456789

# [OPTIONAL] Service account credentials
# Option 1: Full JSON object (recommended)
# GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"...","private_key":"...","client_email":"..."}

# Option 2: Separate variables (use if JSON causes issues)
# GOOGLE_SERVICE_ACCOUNT_EMAIL=your-sa@project.iam.gserviceaccount.com
# GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"


# ============================================
# CI/CD UPLOAD AUTHENTICATION
# ============================================
# Used by GitHub Actions to upload scan results to the dashboard.
# At least one of these must be set for CI uploads to work.

# [RECOMMENDED] HMAC signing key for secure uploads
# Generate with: openssl rand -hex 32
# This enables request signing, replay protection, and rate limiting.
CI_UPLOAD_SIGNING_KEY=your-64-character-hex-signing-key

# [DEPRECATED] Legacy Bearer token authentication
# Only use if you need backward compatibility with existing CI pipelines.
# CI_UPLOAD_SECRET=your-upload-secret


# ============================================
# NOTIFICATIONS (Slack)
# ============================================
# Sends notifications when scans complete or scores drop.
# Create a webhook at: https://api.slack.com/messaging/webhooks

# [OPTIONAL] Slack webhook URL
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...


# ============================================
# OPERATIONAL SETTINGS
# ============================================

# [OPTIONAL] Score drop threshold for regression alerts (default: 5)
# REGRESSION_THRESHOLD=5

# [OPTIONAL] Number of historical scan runs to keep (default: 10)
# KEEP_RUNS=10


# ============================================
# GITHUB ACTIONS (for manual scan triggers)
# ============================================
# Used to trigger scans from the dashboard UI.

# [OPTIONAL] GitHub Personal Access Token with repo scope
# GITHUB_TOKEN=ghp_...

# [OPTIONAL] Vercel deploy hook to trigger redeploy after scans
# VERCEL_DEPLOY_HOOK=https://api.vercel.com/v1/integrations/deploy/...
